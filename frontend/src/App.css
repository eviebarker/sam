:root{
  --bg0:#070a12;
  --bg1:#0b1020;

  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.68);
}

html, body { height: 100%; }
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(900px 550px at 18% 12%, rgba(47,123,255,.18), transparent 60%),
    radial-gradient(900px 550px at 82% 18%, rgba(47,123,255,.08), transparent 62%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* Kiosk: fill the screen */
.page{
  min-height: 100vh;
  width: 100vw;
  padding: 28px;
  box-sizing: border-box;
  --merge-duration: 1100ms;
  --offscreen-x: 120vw;
}

/* Animated background layer (DarkVeil) */
.bg{
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  width: 100vw;
  height: 100vh;
}

/* ===== Neutral glass (NO outlines) ===== */
.glass-tile{
  background: rgba(255,255,255,0.035);
  border: none;
  outline: none;
  border-radius: 24px;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 18px 60px rgba(0,0,0,0.38);
}

.glass-soft{
  background: rgba(255,255,255,0.03);
  border: none;
  border-radius: 18px;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 18px 60px rgba(0,0,0,0.30);
}

/* Neutral glass pill (NO colour) */
.glass-pill{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 12px 18px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: none;
  color: rgba(255,255,255,0.92);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 16px 45px rgba(0,0,0,0.30);
  transition: transform 120ms ease, background 120ms ease;
  user-select: none;
}

.glass-pill:hover{
  background: rgba(255,255,255,0.08);
  transform: translateY(-1px);
}

.glass-pill:active{
  transform: translateY(0px);
}

.glass-pill--small{
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 700;
  box-shadow: 0 12px 36px rgba(0,0,0,0.28);
}
.navPill--active{
  background: rgba(255,255,255,0.12);
}

/* Header */
.top{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap: 18px;
  margin-bottom: 18px;
  position: relative;
}

.topLeft{ display:flex; flex-direction:column; gap: 6px; }
.dateRow{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap: wrap;
}
.time{ font-size: clamp(42px, 5vw, 72px); font-weight: 780; letter-spacing: -0.03em; }
.date{ font-size: clamp(14px, 1.4vw, 20px); color: var(--muted); }

.topRight{
  display:flex;
  flex-direction: row;
  align-items:flex-end;
  gap: 10px;
}

/* Error */
.err{
  padding: 12px 14px;
  margin-bottom: 14px;
}

/* Grid: 3 equal columns (left tiles, empty gap, right tiles) */
.grid{
  display:grid;
  gap: 18px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-template-rows: auto auto;
  align-items: stretch;
  position: relative;
  --col-gap: 18px;
}

/* Explicit placement: left col (1), right col (3) */
.slot-l1{ grid-column: 1; grid-row: 1; }
.slot-r1{ grid-column: 3; grid-row: 1; }
.slot-l2{ grid-column: 1; grid-row: 2; }
.slot-r2{ grid-column: 3; grid-row: 2; }

/* Middle column orb: spans both rows, centered
   Allow hover on orb but don't block the rest of the UI */
.orbSlot{
  grid-column: 2;
  grid-row: 1 / span 2;
  display: grid;
  place-items: center;
  pointer-events: none; /* overall container ignores pointer */
  transform: translateY(0);
}

/* Re-enable pointer events only on the orb itself */
.orbWrap{
  width: min(420px, 90%);
  aspect-ratio: 1 / 1;
  position: relative;
  pointer-events: auto;
  transform: translateY(-52px);
}

.orbWrap--speaking{
  filter: none;
}

.orbWrap .orb-container{
  pointer-events: auto;
}

/* Cards: layout only */
.card{
  border-radius: 24px;
  padding: 20px;
  min-height: 190px;
}

/* Slightly wider cards while staying aligned to outer edges */
.card--left{
  width: 100%;
  max-width: 92%;
  justify-self: start;
}

.card--right{
  width: 100%;
  max-width: 92%;
  justify-self: end;
}
.card--slim{
  max-width: 62%;
}
.card--merge{
  transition: transform var(--merge-duration) ease, max-width var(--merge-duration) ease;
  will-change: transform;
  --merge-ratio: 1;
}

.page--foodhub .card--merge{
  --merge-ratio: 0.62;
  transform: translateX(calc((200% / var(--merge-ratio)) + (2 * var(--col-gap))));
  max-width: 62%;
  justify-self: end;
}

.card--off{
  transition: transform var(--merge-duration) ease;
  will-change: transform;
}

.page--foodhub .card--off{
  transform: translateX(var(--offscreen-x));
}

.orbSlot{
  transition: transform var(--merge-duration) ease;
}

.page--foodhub .orbSlot.merge-off{
  transform: translate3d(var(--offscreen-x), 0, 0);
}

.funFactDock{
  transition: transform var(--merge-duration) ease;
}

.page--foodhub .funFactDock.merge-off{
  transform: translate3d(calc(-50% + var(--offscreen-x)), 0, 0);
  pointer-events: none;
}

.cardHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 12px;
}

h2{
  margin: 0;
  font-size: 24px;
  letter-spacing: -0.01em;
}

.body{ margin: 0; color: var(--muted); font-size: 18px; line-height: 1.45; }
.big{ margin: 0; font-size: 28px; font-weight: 760; }
.subtle{ margin: 12px 0 0; color: var(--muted); font-size: 14px; }

.list{ margin: 0; padding-left: 18px; color: var(--muted); font-size: 16px; }
.list li{ margin: 6px 0; }
.list--flush{
  padding-left: 0;
  list-style: none;
}
.list--pills{
  padding-left: 0;
  list-style: none;
}
.list--pills li{
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.04);
}
.eventRow{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.04);
}
.eventMeta{
  font-size: 12px;
  white-space: nowrap;
  align-self: center;
}
.eventRow--done{
  opacity: 0.55;
}
.eventMeta--done{
  opacity: 0.6;
}

.funFactDock{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: min(560px, 86vw);
  text-align: center;
  pointer-events: auto;
}

.funFact{
  display: grid;
  gap: 6px;
  color: var(--text);
}
.funFact--animate{
  animation: funFactEnter 700ms ease both;
}
.funFactTitle{
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.22em;
  opacity: 0.8;
}
.foodHubTitle{
  margin: -8px 0 14px;
  text-align: center;
  font-size: 14px;
  letter-spacing: 0.26em;
}
.funFactBody{
  font-size: 15px;
  line-height: 1.4;
  font-style: italic;
  color: rgba(255,255,255,0.54);
}
.funFactMeta{
  display: flex;
  justify-content: center;
  gap: 12px;
  align-items: center;
  font-size: 11px;
  color: var(--muted);
}
.funFactButton{
  background: transparent;
  border: 1px solid rgba(255,255,255,0.35);
  color: var(--text);
  border-radius: 999px;
  padding: 3px 9px;
  font-size: 11px;
  cursor: pointer;
}
.funFactButton:hover{
  background: rgba(255,255,255,0.08);
}

@keyframes funFactEnter{
  from{
    opacity: 0;
    transform: translateY(10px);
    filter: blur(2px);
  }
  to{
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

.taskPriority{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}
.taskPriority--vital{
  background: rgba(255,120,120,0.2);
  color: rgba(255,220,220,0.95);
}
.taskPriority--medium{
  background: rgba(255,205,120,0.2);
  color: rgba(255,240,210,0.95);
}
.taskPriority--trivial{
  background: rgba(120,190,255,0.18);
  color: rgba(215,235,255,0.95);
}
.taskControls{
  display: flex;
  gap: 10px;
  margin-top: 16px;
  flex-wrap: wrap;
}
.taskList{
  margin: 10px 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}
.taskRow{
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: center;
}

/* Push-to-talk pill: big + full width */
.micPill{
  width: 100%;
  padding: 18px 18px;
  font-size: 20px;
  font-weight: 780;
}
.micPill--compact{
  width: auto;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 700;
}
.micPill--recording{
  background: radial-gradient(circle at 20% 20%, rgba(255,140,140,0.35), rgba(255,80,80,0.18));
  border-color: rgba(255,180,180,0.6);
  box-shadow: 0 0 30px rgba(255,120,120,0.2);
}

.ttsButton{
  margin-top: 12px;
}

.sttBox{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 14px;
  background: rgba(255,255,255,0.06);
}

.sttText{
  margin-top: 6px;
  font-size: 15px;
  line-height: 1.4;
  color: var(--text);
}

.sttStatus{
  margin-top: 6px;
}

.aiBlock{
  margin-top: 16px;
  display: grid;
  gap: 8px;
}

.aiLabel{
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: var(--muted);
}

.aiInput{
  width: 100%;
  min-height: 72px;
  padding: 10px 12px;
  border-radius: 14px;
  border: none;
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-size: 14px;
  resize: vertical;
  outline: none;
}

.aiInput::placeholder{
  color: rgba(255,255,255,0.5);
}

.aiActions{
  display: flex;
  justify-content: flex-end;
}

.aiResponse{
  position: fixed;
  top: 48px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-size: 14px;
  font-style: italic;
  line-height: 1.4;
  text-align: center;
  max-width: min(680px, 80vw);
  z-index: 2;
}

/* Drop to single column if narrow */
@media (max-width: 900px){
  .grid{
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  .slot-l1, .slot-r1, .slot-l2, .slot-r2, .orbSlot{
    grid-column: auto;
    grid-row: auto;
  }

  .card--left,
  .card--right{
    max-width: 100%;
    justify-self: stretch;
  }

  .page--foodhub .card--merge{
    transform: none;
    max-width: 100%;
    justify-self: stretch;
  }

  .page--foodhub .card--off,
  .page--foodhub .orbSlot.merge-off,
  .page--foodhub .funFactDock.merge-off{
    transform: none;
  }

  .orbWrap{
    width: min(360px, 100%);
  }

  /* In 1-col mode, let orb hover still work */
  .orbSlot{ pointer-events: none; }
  .orbWrap{ pointer-events: auto; }
}

.reminders { display: grid; gap: 10px; margin-bottom: 12px; }
.reminderRow { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 10px; border-radius: 14px; }
.reminderRow--due { outline: 2px solid rgba(255,255,255,0.35); }
.reminderRow--inactive { opacity: 0.55; }
.reminderText { display: grid; gap: 4px; }
.reminderTop { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; }
.reminderStatus {
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}
.reminderStatus--done {
  background: rgba(120,255,180,0.16);
  color: rgba(220,255,235,0.9);
}
.reminderStatus--missed {
  background: rgba(255,120,120,0.18);
  color: rgba(255,210,210,0.9);
}
